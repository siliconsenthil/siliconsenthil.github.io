
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>siliconsenthil.in</title>
  <meta name="author" content="Senthil V S">
  
  <meta name="description" content="Tips, tricks, and hacks on Ruby on Rails development.">
  <meta name="keywords" content="ruby,ruby on rails,heroku,gem,web development,memory leak,">
  
  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://siliconsenthil.in/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="" rel="alternate" title="siliconsenthil.in" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=Cabin+Condensed:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Oxygen:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-31700132-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">siliconsenthil.in</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  
  
  <li>
    <a href="https://twitter.com/siliconsenthil" class="twitter-follow-button" data-show-count="false" data-size="large" data-show-screen-name="false">Follow @siliconsenthil</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  </li>
</ul>
  
<ul class="main-navigation">
  <li><a href="http://about.me/siliconsenthil" target="_blank">about</a></li>
  <li><a href="/blog/archives">posts</a></li>
  <li><a href="/assets/resume_siliconsenthil.pdf" download target="_blank">resume</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/06/27/why-scala-why-now/">Why Scala Should Be Your Next Programming Language?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-27T10:03:00+01:00" pubdate data-updated="true">Jun 27<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I with <a href="http://in.linkedin.com/pub/aravindh-sridharan/31/8bb/b5">Aravindh</a> gave a talk @ <a href="http://twchennai.github.io/geeknight/">Geeknight, Chennai</a> on 26-JUN-2014. Sharing the presentation here.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2014/06/27/why-scala-why-now/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/04/02/vcr-match-body/">VCR - Match Body</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-02T18:50:00+01:00" pubdate data-updated="true">Apr 2<span>nd</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We had to have make external API calls and we used <a href="https://github.com/vcr/vcr">vcr</a> to record and replay in our integration tests. All was going on well.</p>

<p>Despite this coverage, we saw our code breaking in production due to small chages in request xml body. We wanted our integration spec to cover these too. By default, vcr <a href="https://www.relishapp.com/vcr/vcr/v/2-0-0-beta1/docs/request-matching">matches</a> request method and url. We wanted it to match the post body too. Simple match by body does not solve as it does plain string match. It would give <a href="http://stackoverflow.com/a/17838775/227705">false negatives</a>.</p>

<p>So, we decided to match our xml request body. This is what we did.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2014/04/02/vcr-match-body/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/11/apache-camel-with-scala-extending-dsl/">Apache Camel With Scala: Extending DSL</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-11T07:58:00+01:00" pubdate data-updated="true">Jul 11<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Let&#8217;s take a very simple use case of integrating with a http endpoint which has an authentication mechanism.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"></pre></td><td class='code'><pre><code class='scala'><span class='line'>    <span class="n">from</span><span class="o">(</span><span class="s">&quot;someWhere&quot;</span><span class="o">)</span>
</span><span class='line'>      <span class="c1">//Do some processing</span>
</span><span class='line'>      <span class="o">.</span><span class="n">setHeader</span><span class="o">(</span><span class="s">&quot;Authorization&quot;</span><span class="o">,</span> <span class="k">_</span> <span class="k">=&gt;</span> <span class="s">&quot;OAuth anObfuscatedTokenString&quot;</span><span class="o">)</span>
</span><span class='line'>      <span class="o">.</span><span class="n">setHeader</span><span class="o">(</span><span class="nc">Exchange</span><span class="o">.</span><span class="nc">HTTP_METHOD</span><span class="o">,</span> <span class="s">&quot;GET&quot;</span><span class="o">)</span>
</span><span class='line'>      <span class="o">.</span><span class="n">to</span><span class="o">(</span><span class="s">&quot;http://someServer.com&quot;</span><span class="o">)</span>
</span><span class='line'>      <span class="o">.</span><span class="n">process</span><span class="o">(</span><span class="c1">//Do something with response)</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">from</span><span class="o">(</span><span class="s">&quot;someWhereElse&quot;</span><span class="o">)</span>
</span><span class='line'>      <span class="c1">//Do some processing</span>
</span><span class='line'>      <span class="o">.</span><span class="n">setHeader</span><span class="o">(</span><span class="s">&quot;Authorization&quot;</span><span class="o">,</span> <span class="k">_</span> <span class="k">=&gt;</span> <span class="s">&quot;OAuth anObfuscatedTokenString&quot;</span><span class="o">)</span>
</span><span class='line'>      <span class="o">.</span><span class="n">setHeader</span><span class="o">(</span><span class="nc">Exchange</span><span class="o">.</span><span class="nc">HTTP_METHOD</span><span class="o">,</span> <span class="s">&quot;POST&quot;</span><span class="o">)</span>
</span><span class='line'>      <span class="o">.</span><span class="n">to</span><span class="o">(</span><span class="s">&quot;http://someServer.com&quot;</span><span class="o">)</span>
</span><span class='line'>      <span class="o">.</span><span class="n">process</span><span class="o">(</span><span class="c1">//Do something with response)</span>
</span></code></pre></td></tr></table></div></figure>


<p>You can clearly see if have many routes like this, there will be a lot of duplication.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/07/11/apache-camel-with-scala-extending-dsl/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/07/apache-camel-with-scala-testing-styles/">Apache Camel With Scala: Testing Styles</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-07T15:39:00+01:00" pubdate data-updated="true">Jul 7<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Scala with Camel is a very powerful combination for integration. Camel has fantastic support for
<a href="http://camel.apache.org/testing.html" target="_blank">testing</a>. It&#8217;s very easy and useful to test-drive the integration. Following are few styles when it comes to testing camel with scala.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/07/07/apache-camel-with-scala-testing-styles/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/03/26/integer-dot-parseint-god/">Integer.parseInt(&#8216;God&#8217;) = ???</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-26T22:47:00+00:00" pubdate data-updated="true">Mar 26<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Migrated from: <a href="http://monophilo.blogspot.in/2010/03/integerparseintgod.html">My old post</a></p>

<p>Today people visit temple for so many reasons. Fundamentally, those reasons come out of fear or greed depending on the situation. During recession people ask god to save job (out of fear) or otherwise, they ask for promotion or better job (out of greed).</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/03/26/integer-dot-parseint-god/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/02/15/iteration-recursion-and-tail-recursion/">Iteration, Recursion and Tail Recursion</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-15T12:38:00+00:00" pubdate data-updated="true">Feb 15<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Courtesy: <a href="https://class.coursera.org/progfun-2012-001/class/index">Functional Programming Principles in Scala</a></p>

<p><strong>Problem:</strong> Given <em>a</em> and <em>b</em>,<br/>find the sum of range of numbers between <em>a</em> and <em>b</em>.<br>E.g. Given 1 and 4, the result is 10 (1+2+3+4). Simple.</p>

<p><strong>Language:</strong> Scala</p>

<p>Let&#8217;s do this with programmers&#8217; favorite, Iteration</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/02/15/iteration-recursion-and-tail-recursion/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/19/validation-scopes-leaks-memory/">Memory Leaks With <i>validation_scopes</i></a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-19T17:50:00+00:00" pubdate data-updated="true">Jan 19<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We had a requirement in our app to ignore few validations by just showing warnings to user and continuing the object to save.
The gem <a href="https://github.com/gtd/validation_scopes"><em>validation_scopes</em></a> seemed to be a right choice and we used it.</p>

<p>We faced memory issues and <a href="/blog/2013/01/19/how-we-debugged-rails-memory-leak/">figured out</a>
<code>model.has_warnings?</code> of <em>validation_scopes</em> was causing issue.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/01/19/validation-scopes-leaks-memory/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/19/how-we-debugged-rails-memory-leak/">How We Debugged Memory Leak in a Rails App.</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-19T13:29:00+00:00" pubdate data-updated="true">Jan 19<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We run our app on heroku and kept on getting <a href="https://devcenter.heroku.com/articles/error-codes#r14-memory-quota-exceeded">R14</a>s. Our google and stackoverflow skills did provide
few suggestions and but din&#8217;t help much. We used few tools (<a href="https://github.com/brynary/rack-bug">rack_bug</a>, <a href="https://github.com/noahd1/oink">oink</a>) see the memory usage. They provided who use how much <br/>
but we could make further progress with that. So here&#8217;s what we did to find out.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/01/19/how-we-debugged-rails-memory-leak/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/04/15/onclick-link-disabling-with-jquery/">Onclick Link Disabling With jQuery</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-04-15T16:07:00+01:00" pubdate data-updated="true">Apr 15<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Days back I have come across a common requirement to disable link on clicking it once. Typically, it&#8217;s because on click of those links some AJAX thins happen and some fragments of the page gets updated.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2011/04/15/onclick-link-disabling-with-jquery/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/04/15/if-else-or-switch-case-to-polymorphism/">If Else or Switch Case to Polymorphism</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-04-15T15:59:00+01:00" pubdate data-updated="true">Apr 15<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If you try to express your logic in if-else way like this,</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"></pre></td><td class='code'><pre><code class='java'><span class='line'>  <span class="kd">private</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">getSoundIfElseWay</span><span class="o">(</span><span class="n">String</span> <span class="n">animal</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>       <span class="k">if</span> <span class="o">(</span><span class="n">animal</span><span class="o">.</span><span class="na">equalsIgnoreCase</span><span class="o">(</span><span class="s">&quot;Dog&quot;</span><span class="o">))</span>
</span><span class='line'>            <span class="k">return</span> <span class="s">&quot;Bark&quot;</span><span class="o">;</span>
</span><span class='line'>       <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">animal</span><span class="o">.</span><span class="na">equalsIgnoreCase</span><span class="o">(</span><span class="s">&quot;Cat&quot;</span><span class="o">))</span>
</span><span class='line'>            <span class="k">return</span> <span class="s">&quot;Mew&quot;</span><span class="o">;</span>
</span><span class='line'>       <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">animal</span><span class="o">.</span><span class="na">equalsIgnoreCase</span><span class="o">(</span><span class="s">&quot;Lion&quot;</span><span class="o">))</span>
</span><span class='line'>            <span class="k">return</span> <span class="s">&quot;Roar&quot;</span><span class="o">;</span>
</span><span class='line'>       <span class="k">return</span> <span class="s">&quot;&quot;</span><span class="o">;</span>
</span><span class='line'>  <span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>then polymorphic way would be,</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2011/04/15/if-else-or-switch-case-to-polymorphism/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    
  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Senthil V S -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'siliconsenthil';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



<script type="text/javascript">
  $(document).ready(function(){
    $('a').each(function() {
        var a = new RegExp('/' + window.location.host + '/');
        if(!a.test(this.href)) {
            $(this).click(function(event) {
                event.preventDefault();
                event.stopPropagation();
                window.open(this.href, '_blank');
            });
        }
    });
  });
</script>

</body>
</html>

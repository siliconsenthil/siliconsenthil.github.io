
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>So, you built webhooks? And wanna test  - siliconsenthil.in</title>
  <meta name="author" content="Senthil V S">
  
  <meta name="description" content="Ruby library to test webhook calling code.">
  <meta name="keywords" content="ruby,rspec,webhooks,ngrok">
  
  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://siliconsenthil.in/blog/2017/04/02/so-you-built-webhooks-and-wanna-test/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="" rel="alternate" title="siliconsenthil.in" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=Cabin+Condensed:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Oxygen:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-31700132-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">siliconsenthil.in</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  
  
  <li>
    <a href="https://twitter.com/siliconsenthil" class="twitter-follow-button" data-show-count="false" data-size="large" data-show-screen-name="false">Follow @siliconsenthil</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  </li>
</ul>
  
<ul class="main-navigation">
  <li><a href="http://about.me/siliconsenthil" target="_blank">about</a></li>
  <li><a href="/blog/archives">posts</a></li>
  <li><a href="/assets/resume_siliconsenthil_v2_1.pdf" download target="_blank">resume</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">So, You Built Webhooks? And Wanna Test</h1>
    
    
      <p class="meta">
        








  


<time datetime="2017-04-02T23:28:00+05:30" pubdate data-updated="true">Apr 2<span>nd</span>, 2017</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>When you build public facing APIs, there are operations that could not fit enough into request-response cycle. Especially, when it involves user interaction.</p>

<p>Take an example of sending email. You can expose an API endpoint for clients to send email. But whenever the email is opened, the client want to do some action. They can keep polling you and get the status of the email of course. But, that&#8217;s suboptimal on both sides. So you want to tell the client when the email is opened. Now, that&#8217;s when you do webhooks (<a href="https://webhooks.pbworks.com/w/page/13385124/FrontPage">ref</a>).</p>

<p>Webhooks are easier to build. After all, it&#8217;s just one http call you will have to make.</p>

<p>But, testing it is not so.</p>

<!-- more -->


<p><strong>Public URL:</strong> We need the webhook URL to be accessible from the application server. For local testing <code>localhost</code> would do. But when you want to test the behaviour in CI ot other enviroments, it requires to be a public URL.</p>

<p><strong>Recorded requests:</strong> Once the application is invoked and it called the webhook URL, we need to assert on the request made by application. So we need a way to record those requests and assert later.</p>

<p>So <a href="https://github.com/siliconsenthil/webhook_recorder">webhook_recorder</a> is born. It uses <code>WEBrick</code> server to run locally and  uses <a href="https://ngrok.com">ngrok</a> to expose that.</p>

<iframe src="https://docs.google.com/presentation/d/1-Ic9WCukD9D1FGYISvo1TAfa5hW5YsN0zCF9QotGujQ/embed?start=false&loop=false&delayms=3000" frameborder="0" width="600" height="460" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>




<br>


<br>


<p><em>PS: We at <a href="https://getsimpl.com">Simpl</a> are in a mission of making money simple. We value quality, talent and most importantly culture. Wanna join hands? Let me know at <a href="https://twitter.com/siliconsenthil">@siliconsenthil</a></em></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Senthil V S</span></span>

      








  


<time datetime="2017-04-02T23:28:00+05:30" pubdate data-updated="true">Apr 2<span>nd</span>, 2017</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/ruby/'>ruby</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://siliconsenthil.in/blog/2017/04/02/so-you-built-webhooks-and-wanna-test/" data-via="siliconsenthil" data-counturl="http://siliconsenthil.in/blog/2017/04/02/so-you-built-webhooks-and-wanna-test/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/06/27/why-scala-why-now/" title="Previous Post: Why scala should be your next programming language?">&laquo; Why scala should be your next programming language?</a>
      
      
        <a class="basic-alignment right" href="/blog/2019/03/09/how-we-built-our-own-heroku/" title="Next Post: How we built our own heroku">How we built our own heroku &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    
  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2019 - Senthil V S -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'siliconsenthil';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://siliconsenthil.in/blog/2017/04/02/so-you-built-webhooks-and-wanna-test/';
        var disqus_url = 'http://siliconsenthil.in/blog/2017/04/02/so-you-built-webhooks-and-wanna-test/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



<script type="text/javascript">
  $(document).ready(function(){
    $('a').each(function() {
        var a = new RegExp('/' + window.location.host + '/');
        if(!a.test(this.href)) {
            $(this).click(function(event) {
                event.preventDefault();
                event.stopPropagation();
                window.open(this.href, '_blank');
            });
        }
    });
  });
</script>

</body>
</html>
